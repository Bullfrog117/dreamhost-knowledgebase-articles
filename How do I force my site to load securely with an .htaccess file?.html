<h2><span id="Forcing_the_domain_to_serve_securely_using_HTTPS" class="mw-headline">Forcing the domain to serve securely using HTTPS</span></h2>
<p>The following forces any http request to be rewritten using https. For example, the following code forces a request to <a class="external free" href="http://example.com" rel="nofollow">http://example.com</a> to load <a class="external free" href="https://example.com" rel="nofollow">https://example.com</a>:</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</pre>
</div>
<p>The following alternative also forces directly linked resources (images, css, etc.) to use https:</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 
</pre>
</div>
<p>If this isn't working for you, first check your line endings. Copy/paste from your web browser into a text editor may not work right, so after pasting into your text editor you should delete each line break and add it back in (line break = return key).</p>
<h2><span id="An_extra_secure_method_to_force_a_domain_to_only_use_SSL_.28HTTPS.29" class="mw-headline">An extra secure method to force a domain to only use SSL (HTTPS)</span></h2>
<p>This method fixes a double login problem. If you wish to ensure that your server is only serving documents over an encrypted SSL channel (you wouldn't want visitors to submit an .htaccess password prompt on an unencrypted connection), then you must use the SSLRequireSSL directive with the +StrictRequire Option enabled:</p>
<div class="preboxcontainer">
<pre class="prebox">SSLOptions +StrictRequire
SSLRequireSSL
SSLRequire %{HTTP_HOST} eq "example.com"
ErrorDocument 403 https://example.com
</pre>
</div>
<h2><span id="See_also">See also</span></h2>
<ul>
<li><a href="/hc/en-us/articles/216456227">.htaccess overview</a></li>
<li><a href="/hc/en-us/articles/217738987">What can I do with an .htaccess file?</a></li>
</ul>
