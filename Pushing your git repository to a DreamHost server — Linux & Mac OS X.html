<p>These directions assume that you've created your application on your home computer, and then used git to create a local repository. The following steps guide you through how to push your local git repository to your DreamHost server.</p>
<h3><span id="Pushing_from_Linux">Pushing from Linux or Mac OS X</span></h3>
<ol>
<li>On your local computer, navigate to your user's ~/.ssh direcgtory.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">cd ~/.ssh</span></pre>
</div>
If the directory doesn't exist, create it:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">mkdir ~/.ssh</span></pre>
</div>
</li>
<li>Then set up <a href="https://help.github.com/articles/generating-ssh-keys/">SSH keys</a> by running the following command.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">ssh-keygen -t rsa -b 4096 -C "DreamHost Git repo"</span>
</pre>
</div>
</li>
<li>When you run this command, you are asked to name the file. Name it something you'll recognize like 'dreamhost-git-key.</li>
<li>You are then asked for a password. Click 'Enter' twice to skip.</li>
<li>Two new files are now created in your user's .ssh directory.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">cd ~/.ssh</span>
<span class="server">[local ~]$ </span><span class="command">ls -la</span>
dreamhost-git-key
dreamhost-git-key.pub</pre>
</div>
</li>
<li>Copy your public key into your DreamHost server's 'authorized_keys' file. <br /><br /><strong>*If you're using Linux*</strong>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">ssh-copy-id -i ~/.ssh/dreamhost-git-key.pub user@server.dreamhost.com</span></pre>
</div>
<strong>*If you're using Mac OS X (also works with Linux)*</strong>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">cat ~/.ssh/dreamhost-git-key.pub | ssh user@server.dreamhost.com "mkdir ~/.ssh; cat &gt;&gt; ~/.ssh/authorized_keys"</span>
</pre>
</div>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p>You may receive the following error when running this command:</p>
<div class="preboxcontainer">
<pre class="prebox">mkdir: cannot create directory `/home/user/.ssh': File exists</pre>
</div>
<p>This just means the /.ssh directory already exists. If you see this, remove the portion of the command that creates the directory and run again. For example:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">cat ~/.ssh/dreamhost-git-key.pub | ssh user@server.dreamhost.com "cat &gt;&gt; ~/.ssh/authorized_keys"</span>
</pre>
</div>
</div>
</div>
</li>
<li>Log into your DreamHost server via <a href="/hc/en-us/articles/216041267-SSH-overview">SSH</a>:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">ssh user@server.dreamhost.com</span>
</pre>
</div>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>If you receive an error when attempting to login you may need to use ssh-agent. View the following article for details:</p>
<ul>
<li><a href="/hc/en-us/articles/216499537-How-to-configure-passwordless-login-in-Mac-OS-X-and-Linux">Using ssh-agent to log in</a></li>
</ul>
</div>
</div>
</li>
<li>Confirm your key has been added to the DreamHost server by running the following:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">cat ~/.ssh/authorized_keys</span></pre>
</div>
This should output your key.</li>
<li>Create a new directory that will be your new remote repository on your DreamHost server. If this code is meant to replace your existing website, you could name it the same as your website ending in .git.
<div class="alert alert-important">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-important-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p>Since this is a remote repository and not a working repository, the directory name you create must end with .git. You can then checkout this repository in the future to work on it.</p>
</div>
</div>
Run the following.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd ~</span>
<span class="server">[server]$ </span><span class="command">mkdir example.com.git</span>
<span class="server">[server]$ </span><span class="command">cd ~/example.com.git</span>
<span class="server">[server]$ </span><span class="command">git init --bare</span>
<span class="server">[server]$ </span><span class="command">exit</span>
</pre>
</div>
</li>
<li>Back on your local computer, navigate to your git repository. Then push to the remote repository on your DreamHost server. Make sure to change 'user' and 'server' to your actual <a href="https://help.dreamhost.com/hc/en-us/articles/214694298-What-are-the-different-types-of-DreamHost-users-">DreamHost username</a> and <a href="https://help.dreamhost.com/hc/en-us/articles/115000675027#Finding_your_FTP_server_hostname">servername</a>:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[local ~]$ </span><span class="command">git remote add dreamhost ssh://user@server.dreamhost.com/~/example.com.git</span>
<span class="server">[local ~]$ </span><span class="command">git push -u dreamhost master</span>
</pre>
</div>
<dl>
<dd><em>You should see a response as follows:</em></dd>
</dl>
<div class="preboxcontainer">
<pre class="prebox">Counting objects: 3, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 200 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To ssh://username@server.dreamhost.com/~/example.com.git
* [new branch] master -&gt; master
</pre>
</div>
</li>
</ol>
<h2><span id="Confirming_your_repository_was_correctly_pushed_to_your_DreamHost_server">Confirming your repository was correctly pushed to your DreamHost server</span></h2>
<ol>
<li>Log into your DreamHost server via SSH.<br /><em>When you run 'git status' in the ~/example.com.git directory, you'll receive the following error because it's a 'bare' repository:</em>
<div class="preboxcontainer">
<pre class="prebox">fatal: This operation must be run in a work tree</pre>
</div>
</li>
<li>Clone the repo to a new location by running the following in your user's directory:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">mkdir ~/cloned.example.com.git</span>
<span class="server">[server]$ </span><span class="command">git clone ~/example.com.git ~/cloned.example.com.git</span>
<span class="server">[server]$ </span><span class="command">cd ~/cloned.example.com.git</span>
</pre>
</div>
<dl>
<dd><em>This cloned directory now contains all the files you pushed from your local machine.</em></dd>
</dl>
</li>
<li>You can now change your <a href="https://help.dreamhost.com/hc/en-us/articles/215416227-How-do-I-add-a-domain-">website's 'web directory'</a> to this cloned directory. If you do this, all of your git files in the cloned.example.com.git directory become your live website.</li>
</ol>
<h2>See also</h2>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115000677931-git-overview">git overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216445317-How-do-I-set-up-a-Git-repository-">How do I set up a Git repository?</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115000676991-Pushing-your-DreamHost-git-repository-to-GitHub">Pushing your DreamHost git repository to GitHub</a></li>
</ul>
