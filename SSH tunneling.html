<p>Your Dreamhost account can be used to create a secure tunnel to circumvent firewalls that prevent access to particular websites. This isn't recommended as a replacement for a VPN or similar service, but if you need the occasional ability to reach sites that would otherwise be unreachable *or* need secure access because you are using an unsecured access point, this might be an appropriate solution for you.</p>
<p><a href="http://en.wikipedia.org/wiki/SOCKS">SOCKS</a> is the name of the protocol used. <a href="http://en.wikipedia.org/wiki/Secure_Shell">SSH</a> is the name of the software used to create the tunnel. There are a number of GUI options available for Windows, Mac OS X, and *nix, but using SSH usually demands a command-line environment. This article will assume that it is installed and configured appropriately. Practically speaking, this information is not that important. You just need to know the magic incantations.</p>
<p><strong>Note:</strong> This is a great temporary solution if you need to view something your ISP has blocked for unknown reasons. It should be considered a temporary solution, as it will definitely use bandwidth on your account. When you are on a shared server, it's nice not to abuse the system.</p>
<div class="toc" id="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
</div>
<div class="toc" id="toc">
<ul>
<li class="toclevel-1 tocsection-1"><a href="http://wiki.dreamhost.com/SSH_Tunneling#Easy-Option_Windows_Instructions"><span class="tocnumber">1</span> <span class="toctext">Easy-Option Windows Instructions</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="http://wiki.dreamhost.com/SSH_Tunneling#Mac_Instructions"><span class="tocnumber">2</span> <span class="toctext">Mac Instructions</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="http://wiki.dreamhost.com/SSH_Tunneling#Setting_Up_Your_Tunnel"><span class="tocnumber">3</span> <span class="toctext">Setting Up Your Tunnel</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="http://wiki.dreamhost.com/SSH_Tunneling#Directing_Your_Browser"><span class="tocnumber">4</span> <span class="toctext">Directing Your Browser</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="http://wiki.dreamhost.com/SSH_Tunneling#Firefox"><span class="tocnumber">4.1</span> <span class="toctext">Firefox</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="http://wiki.dreamhost.com/SSH_Tunneling#Safari"><span class="tocnumber">4.2</span> <span class="toctext">Safari</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="http://wiki.dreamhost.com/SSH_Tunneling#Verify_your_tunnel"><span class="tocnumber">4.3</span> <span class="toctext">Verify your tunnel</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="http://wiki.dreamhost.com/SSH_Tunneling#Caveats"><span class="tocnumber">5</span> <span class="toctext">Caveats</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="http://wiki.dreamhost.com/SSH_Tunneling#External_Links"><span class="tocnumber">6</span> <span class="toctext">External Links</span></a></li>
</ul>
</div>
<h1><span id="Easy-Option_Windows_Instructions">Easy-Option Windows Instructions</span></h1>
<p><strong>1. Lightweight</strong></p>
<p>Download <a href="http://www.chiark.greenend.org.uk/%7Esgtatham/putty/download.html">Plink</a></p>
<p>Open a command-line window, navigate to the folder containing plink.exe and type:</p>
<dl>
<dd><tt>plink -ssh -2 -D 9999 <em>username</em>@<em>servername</em>.dreamhost.com</tt></dd>
<dd><em>Enter your password</em></dd>
</dl>
<dl>
<dd>You can put this easily in a batch-file for a quick start.</dd>
</dl>
<p><br/> Open Firefox:</p>
<dl>
<dd>Firefox -&gt; Options -&gt; Advanced -&gt; Network tab</dd>
<dd>Settings -&gt; Manual proxy configuration
<dl>
<dd>SOCKS Host: 127.0.0.1 or localhost</dd>
<dd>Port: 9999</dd>
</dl>
</dd>
</dl>
<p><strong>Done</strong></p>
<p>Â </p>
<p><strong>2. Using multiple tools</strong></p>
<p>Instructions based on <a href="http://www.redflagdeals.com/forums/using-your-cheap-dreamhost-account-proxy-pandora-etc-717893/">this forum thread</a>.</p>
<dl>
<dt>You need</dt>
<dd></dd>
<dd><a href="http://dl.bitvise.com/Tunnelier-Inst.exe">Bitvise Tunnelier</a></dd>
<dd><a href="https://addons.mozilla.org/en-US/firefox/addon/2464">FoxyProxy for Firefox</a></dd>
<dd>A Dreamhost hosting account</dd>
</dl>
<ol>
<li>Log into your dreamhost account and make sure you have a user set up for shell access.</li>
<li>Install Tunnelier.</li>
<li>In the 'login' tab use these settings
<ol>
<li>Host: your host - i.e. blink.dreamhost.com or my.host.com,</li>
<li>Port: 22</li>
<li>Username: your user name</li>
<li>Initial Method: Password</li>
<li>Password: your password</li>
<li>Check: Store encrypted password in profile.</li>
</ol>
</li>
<li>Under the services tab, set up the proxy option as follows:</li>
<li>In the SOCKS/HTTP Proxy Forwarding area:
<ol>
<li>Check 'Enabled'</li>
<li>Listen Interface: 127.0.0.1</li>
<li>Listen Port: 1080</li>
<li>(Leave the rest alone)</li>
</ol>
</li>
<li>Save and name the profile to a folder 'Tunnelier Profiles' perhaps in 'My Documents'.</li>
<li>Install FoxyProxy in firefox and set up a new proxy as follows.
<ol>
<li>Under proxy details tab check 'Manual configuration'.</li>
<li>Host or IP Address: 127.0.0.1</li>
<li>Port: 1080</li>
<li>Check: SOCKS Proxy</li>
<li>Select: SOCKS v5</li>
</ol>
</li>
<li>Launch the profile from the desktop and then select the proxy in firefox with FoxyProxy.</li>
<li>Remember to disable FoxyProxy and exit out of Tunnelier when you're finished.</li>
</ol>
<h1><span id="Mac_Instructions">Mac Instructions</span></h1>
<p>These instructions are for the Mac (or any *nix environment). Windows users can do this via <a href="http://www.chiark.greenend.org.uk/%7Esgtatham/putty/">PuTTY</a>.</p>
<h1><span id="Setting_Up_Your_Tunnel">Setting Up Your Tunnel</span></h1>
<p><strong>1. Open Terminal</strong></p>
<p>The default location for this is in /Applications/Utilities/ but if you can't find it, you can use Spotlight to look for it (look in the blue search bar in the upper right hand corner).</p>
<p><strong>2. Execute the ssh command</strong></p>
<p>Upon opening Terminal, you should see a prompt that looks something like this:</p>
<dl>
<dd><tt>Avericity:~ avery$</tt></dd>
</dl>
<p>Type in the following:</p>
<dl>
<dd><tt>ssh -D 9999 username@hostname.com</tt></dd>
</dl>
<p>There are several options that you could run along with <tt>-D</tt>. <tt>-D</tt> just indicates that we are creating a dynamic port; the subsequent number indicates what port we actually created. Other options that are interesting are:</p>
<ul>
<li><tt>-C</tt>: for compression</li>
<li><tt>-N</tt>: to create a non-interactive shell</li>
<li><tt>-vv</tt>: to see all the network connections created</li>
</ul>
<p>So your ssh command could looks as complicated as:</p>
<dl>
<dd><tt>ssh -vv -CND 9999 username@hostname.com</tt></dd>
</dl>
<h1><span id="Directing_Your_Browser">Directing Your Browser</span></h1>
<h2><span id="Firefox">Firefox</span></h2>
<p>In Firefox you can go to your preferences, and under the <em>Advanced</em> settings there is a <em>Network</em> tab. Click on the button labeled: <em>Settings...</em> There, you want to select <em>Manual proxy configuration</em> and under <em>SOCKS Host</em> enter <em>127.0.0.1</em> or <em>localhost</em>. For the port, enter <em>9999</em> or whatever port that you chose. This <em>should</em> work. I haven't gotten it to work; I use Safari instead.</p>
<h2><span id="Safari">Safari</span></h2>
<p>Using Safari requires you to modify your Network preferences. In the Network preference pane, click the <em>Advanced...</em> button at the bottom of the pane. Now click the tab labeled <em>Proxies</em>. There will be a pull-down menu, select <em>Configure Proxies: Manually</em>. Under protocols to configure, make sure the SOCKS protocol is checked. Make sure that your SOCKS Proxy is set to <em>127.0.0.1</em> and the port number is set to <em>9999</em>.</p>
<h2><span id="Verify_your_tunnel">Verify your tunnel</span></h2>
<p>To check if you are browsing via dreamhost, have a look at e.g. <a href="http://www.hashemian.com/whoami/">http://www.hashemian.com/whoami/</a></p>
<h1><span id="Caveats">Caveats</span></h1>
<ul>
<li>Everything seems to work except for connecting to Twitter. When I try to connect to twitter, all my other connections hang and it hangs as well.</li>
</ul>
<h1><span id="External_Links">External Links</span></h1>
<ul>
<li><a href="http://rejon.org/2009/07/access-facebook-through-the-great-firewall-second-line-ssh-tunnel/">Accessing Facebook throught the Great Firewall</a></li>
<li><a href="http://ninjaburrow.com/howto.php/">Bypass Websense, surf and chat anonymously with SSH Tunneling</a></li>
</ul>
