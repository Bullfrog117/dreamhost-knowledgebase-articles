<div style="background-color: #fee; margin: 1em; padding: 10px; border: 1px solid #aaa; text-align: center;"><strong>WARNING: POSSIBLE OUTDATED INFORMATION!</strong><br/><span style="font-size: 90%;">DreamHost does not directly support any of the features described on this page and is not responsible for keeping this content updated or accurate. Use at your own risk! <br/>There may be additional information on the <a href="http://wiki.dreamhost.com/Talk:Trac" title="Talk:Trac"> talk page</a>.</span></div>
<h2><span id="Overview">Overview</span></h2>
<p>Trac is an enhanced wiki and issue tracking system for software development projects. Trac uses a minimalistic approach to web-based software project management. Our mission is to help developers write great software while staying out of the way. Trac should impose as little as possible on a team's established development process and policies.</p>
<p>It provides an interface to Subversion (or other version control systems), an integrated Wiki and convenient reporting facilities.</p>
<p>Trac allows wiki markup in issue descriptions and commit messages, creating links and seamless references between bugs, tasks, changesets, files and wiki pages. A timeline shows all current and past project events in order, making the acquisition of an overview of the project and tracking progress very easy. The roadmap shows the road ahead, listing the upcoming milestones. You can learn more at <a href="http://trac.edgewall.org/">Trac's website</a></p>
<h2><span id="Trac_is_no_longer_a_one-click_install">Trac is no longer a one-click install</span></h2>
<p>DreamHost support confirms that, at least as of 11 November 2014, Trac is not included in one-click installs.</p>
<div>
<table style="text-align: center; background-color: #ffefef; border: 1px solid #FF9F9F; padding: 0px; margin: 0 auto 2em auto; width: 80%;">
<tbody>
<tr>
<td><strong>The instructions provided in this article or section are considered advanced.</strong><br/>
<p>You are expected to be knowledgeable in the UNIX shell.<br/> <span style="font-size: 1.1em; text-decoration: blink;"><em>Support for these instructions is <strong>not available</strong> from DreamHost tech support.</em></span><br/> <span style="font-size: 1.1em;"><strong><em>Server changes performed by DreamHost may break your modifications. You, as the user, are responsible for troubleshooting and resolving issues with your customizations.</em></strong> </span><strong><em><br/></em></strong></p>
</td>
</tr>
</tbody>
</table>
</div>
<div>
<table style="text-align: center; background-color: #efefff; border: 1px solid #9F9FFF; padding: 0px; margin: 0 auto 2em auto; width: 80%;">
<tbody>
<tr>
<td><strong>The instructions provided in this article or section require <a href="http://wiki.dreamhost.com/Shell" title="Shell">shell</a> access unless otherwise stated.</strong><br/>
<p>You can use the <a href="http://wiki.dreamhost.com/PuTTY" title="PuTTY">PuTTY</a> client on Windows, or <a href="http://wiki.dreamhost.com/SSH" title="SSH">SSH</a> on <a href="http://wiki.dreamhost.com/Category:UNIX" title="Category:UNIX">UNIX</a> and UNIX-like systems such as Linux or Mac OS X.<br/>Your account must be configured for shell access in the <a class="mw-redirect" href="http://wiki.dreamhost.com/Control_Panel" title="Control Panel">Control Panel</a>.<br/>More information may be available on the article's <a href="http://wiki.dreamhost.com/Talk:Trac" title="Talk:Trac">talk page</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div style="float: right;">
<div class="toc" id="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
</div>
</div>
<div style="float: right;">
<div class="toc" id="toc">
<ul>
<li class="toclevel-1 tocsection-1"><a href="http://wiki.dreamhost.com/Trac#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="http://wiki.dreamhost.com/Trac#Trac_is_no_longer_a_one-click_install"><span class="tocnumber">2</span> <span class="toctext">Trac is no longer a one-click install</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="http://wiki.dreamhost.com/Trac#Step_by_Step_from_the_beginning_.28SVN.2BTrac.29"><span class="tocnumber">3</span> <span class="toctext">Step by Step from the beginning (SVN+Trac)</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="http://wiki.dreamhost.com/Trac#Enabling_pygments_highlighting_.28optional.29"><span class="tocnumber">4</span> <span class="toctext">Enabling pygments highlighting (optional)</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="http://wiki.dreamhost.com/Trac#Easier_Installation"><span class="tocnumber">5</span> <span class="toctext">Easier Installation</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="http://wiki.dreamhost.com/Trac#Manual_Installation"><span class="tocnumber">6</span> <span class="toctext">Manual Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="http://wiki.dreamhost.com/Trac#Installing_Required_Tools"><span class="tocnumber">6.1</span> <span class="toctext">Installing Required Tools</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="http://wiki.dreamhost.com/Trac#Python"><span class="tocnumber">6.1.1</span> <span class="toctext">Python</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="http://wiki.dreamhost.com/Trac#SQLite"><span class="tocnumber">6.1.2</span> <span class="toctext">SQLite</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="http://wiki.dreamhost.com/Trac#Subversion"><span class="tocnumber">6.1.3</span> <span class="toctext">Subversion</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="http://wiki.dreamhost.com/Trac#Trac_0.10.x"><span class="tocnumber">6.2</span> <span class="toctext">Trac 0.10.x</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="http://wiki.dreamhost.com/Trac#Features"><span class="tocnumber">6.2.1</span> <span class="toctext">Features</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="http://wiki.dreamhost.com/Trac#Trac_0.11"><span class="tocnumber">6.3</span> <span class="toctext">Trac 0.11</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="http://wiki.dreamhost.com/Trac#Features_2"><span class="tocnumber">6.3.1</span> <span class="toctext">Features</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="http://wiki.dreamhost.com/Trac#Trac_0.12"><span class="tocnumber">6.4</span> <span class="toctext">Trac 0.12</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="http://wiki.dreamhost.com/Trac#Latest_Version"><span class="tocnumber">6.5</span> <span class="toctext">Latest Version</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="http://wiki.dreamhost.com/Trac#Configuration"><span class="tocnumber">7</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="http://wiki.dreamhost.com/Trac#Creating_a_Trac_Environment"><span class="tocnumber">7.1</span> <span class="toctext">Creating a Trac Environment</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="http://wiki.dreamhost.com/Trac#Setting_up_on_your_Domain"><span class="tocnumber">7.2</span> <span class="toctext">Setting up on your Domain</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="http://wiki.dreamhost.com/Trac#FastCGI_Errors"><span class="tocnumber">7.3</span> <span class="toctext">FastCGI Errors</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="http://wiki.dreamhost.com/Trac#Permissions_.28Create_Admins.29"><span class="tocnumber">7.4</span> <span class="toctext">Permissions (Create Admins)</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="http://wiki.dreamhost.com/Trac#Logging_In"><span class="tocnumber">7.5</span> <span class="toctext">Logging In</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="http://wiki.dreamhost.com/Trac#Log_In_Hack"><span class="tocnumber">7.6</span> <span class="toctext">Log In Hack</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="http://wiki.dreamhost.com/Trac#Use_SVN_Password_File"><span class="tocnumber">7.6.1</span> <span class="toctext">Use SVN Password File</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="http://wiki.dreamhost.com/Trac#Use_New_Password_File"><span class="tocnumber">7.6.2</span> <span class="toctext">Use New Password File</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-26"><a href="http://wiki.dreamhost.com/Trac#Pretty_URLs"><span class="tocnumber">7.7</span> <span class="toctext">Pretty URLs</span></a>
<ul>
<li class="toclevel-3 tocsection-27"><a href="http://wiki.dreamhost.com/Trac#Step_1:_Hack_the_Trac_base_url"><span class="tocnumber">7.7.1</span> <span class="toctext">Step 1: Hack the Trac base_url</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="http://wiki.dreamhost.com/Trac#Step_2:_RewriteRule"><span class="tocnumber">7.7.2</span> <span class="toctext">Step 2: RewriteRule</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-29"><a href="http://wiki.dreamhost.com/Trac#Troubleshooting_DirectoryIndex"><span class="tocnumber">7.8</span> <span class="toctext">Troubleshooting DirectoryIndex</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="http://wiki.dreamhost.com/Trac#Troubleshooting_database_locked_errors"><span class="tocnumber">7.9</span> <span class="toctext">Troubleshooting database locked errors</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="http://wiki.dreamhost.com/Trac#Enabling_Email_Notices"><span class="tocnumber">7.10</span> <span class="toctext">Enabling Email Notices</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32"><a href="http://wiki.dreamhost.com/Trac#Plugins"><span class="tocnumber">8</span> <span class="toctext">Plugins</span></a>
<ul>
<li class="toclevel-2 tocsection-33"><a href="http://wiki.dreamhost.com/Trac#Installing_with_easy_install"><span class="tocnumber">8.1</span> <span class="toctext">Installing with easy_install</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="http://wiki.dreamhost.com/Trac#AuthOpenID"><span class="tocnumber">8.2</span> <span class="toctext">AuthOpenID</span></a>
<ul>
<li class="toclevel-3 tocsection-35"><a href="http://wiki.dreamhost.com/Trac#The_Concept_.2F_Goal"><span class="tocnumber">8.2.1</span> <span class="toctext">The Concept / Goal</span></a></li>
<li class="toclevel-3 tocsection-36"><a href="http://wiki.dreamhost.com/Trac#Before_you_Start"><span class="tocnumber">8.2.2</span> <span class="toctext">Before you Start</span></a></li>
<li class="toclevel-3 tocsection-37"><a href="http://wiki.dreamhost.com/Trac#OpenID_plugin_Install"><span class="tocnumber">8.2.3</span> <span class="toctext">OpenID plugin Install</span></a></li>
<li class="toclevel-3 tocsection-38"><a href="http://wiki.dreamhost.com/Trac#Element_Tree"><span class="tocnumber">8.2.4</span> <span class="toctext">Element Tree</span></a></li>
<li class="toclevel-3 tocsection-39"><a href="http://wiki.dreamhost.com/Trac#Final_Configuration"><span class="tocnumber">8.2.5</span> <span class="toctext">Final Configuration</span></a></li>
<li class="toclevel-3 tocsection-40"><a href="http://wiki.dreamhost.com/Trac#Summing_Up"><span class="tocnumber">8.2.6</span> <span class="toctext">Summing Up</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-41"><a href="http://wiki.dreamhost.com/Trac#WebAdmin"><span class="tocnumber">8.3</span> <span class="toctext">WebAdmin</span></a>
<ul>
<li class="toclevel-3 tocsection-42"><a href="http://wiki.dreamhost.com/Trac#Trac_0.11_and_later"><span class="tocnumber">8.3.1</span> <span class="toctext">Trac 0.11 and later</span></a></li>
<li class="toclevel-3 tocsection-43"><a href="http://wiki.dreamhost.com/Trac#Trac_versions_prior_to_0.11"><span class="tocnumber">8.3.2</span> <span class="toctext">Trac versions prior to 0.11</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-44"><a href="http://wiki.dreamhost.com/Trac#DB_Authenticate"><span class="tocnumber">8.4</span> <span class="toctext">DB Authenticate</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="http://wiki.dreamhost.com/Trac#Account_Manager"><span class="tocnumber">8.5</span> <span class="toctext">Account Manager</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-46"><a href="http://wiki.dreamhost.com/Trac#External_Links"><span class="tocnumber">9</span> <span class="toctext">External Links</span></a>
<ul>
<li class="toclevel-2 tocsection-47"><a href="http://wiki.dreamhost.com/Trac#Dead_Trac_Links_April_2010"><span class="tocnumber">9.1</span> <span class="toctext">Dead Trac Links April 2010</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-48"><a href="http://wiki.dreamhost.com/Trac#Alternative_Packages"><span class="tocnumber">10</span> <span class="toctext">Alternative Packages</span></a></li>
</ul>
</div>
</div>
<p>This article describes how to install <a href="http://www.edgewall.com/trac/">Trac</a>, an integrated Wiki and Issue Tracker with support for <a href="http://wiki.dreamhost.com/Subversion" title="Subversion">Subversion</a>. These instructions assume you will be doing this on a shared host (<a href="http://www.dreamhost.com">DreamHost</a>) without the benefit of Debian packages. While Trac is a powerful collaborative tool, the limited resources available on entry-level DreamHost hosting accounts may prevent you from getting good performance and reliability.</p>
<p>There are several <a href="http://wiki.dreamhost.com/Trac#Alternative_Packages" title="Trac">Trac alternatives</a> that might be easier to install. It is worth looking into for an alternative to Trac. Installing <a href="http://wiki.dreamhost.com/Bugzilla" title="Bugzilla">Bugzilla</a> on DreamHost is quite straighforward by comparison.</p>
<p> </p>
<h1><span id="Step_by_Step_from_the_beginning_.28SVN.2BTrac.29">Step by Step from the beginning (SVN+Trac)</span></h1>
<p>The following method is the brain dead approach. It will install Trac and explains how to setup the accounts for Trac.</p>
<ol>
<li>Create two empty domains (no files, no directories)
<ol>
<li>Go to the webPanel -&gt; Domains -&gt; Manage Domains
<ul>
<li>svn.MySite.com this will be used for subversion</li>
<li>trac.MySite.com this will be used for trac</li>
</ul>
</li>
</ol>
</li>
<li>Wait until you get confirmation both sites are created</li>
<li>Go to the webpanel -&gt; Goodies -&gt; Subversion to create a new subversion project
<ol>
<li>The SVN project should be installed svn.MySite.com/ProjectName</li>
<li>Enable the checkbox "Add Trac Project Page"
<ul>
<li>Don't enable "DAV Autoversioning"</li>
</ul>
</li>
<li>The Trac-software should be installed in to trac.MySite.com/ProjectName (sometimes it defaults to install it in svn.MySite.com/ProjectName so be careful)</li>
<li>Check everything careful, double check the subdomains are set correct.</li>
<li>Press "Create my new project repository now!"</li>
</ol>
</li>
<li>Wait until you get <strong>three</strong> confirmations
<ul>
<li>Two about SVN (first is about SVN is ready, but the website not, the second confirmation tells you the website is up)</li>
<li>One about Trac (this might take a while, but you should wait for it)</li>
</ul>
</li>
<li>Go to the webpanel -&gt; "Goodies" -&gt; "Htaccess/WebDAV"
<ol>
<li>Select trac.MySite.com/ProjectName</li>
<li>Choose "Set Up a new Directory" (yes, this counter intuitive as the directory already exists but think "access" instead of "directory" and it should make sense)</li>
<li>Fill in the directory name (which is ProjectName)</li>
<li>Enable the checkbox in front of "Password-protect this dir?"
<ul>
<li>Don't enable any other check boxes</li>
</ul>
</li>
<li>Set the directory name and enter the usernames and passwords (I suggest you use the same values of when you setup SVN)</li>
<li>Click "Configure This Directory"</li>
</ol>
</li>
<li>Wait until you get confirmation</li>
<li>Go to trac.MySite.com/ProjectName and login. If everything went ok you should login.</li>
</ol>
<p>You can repeat the above procedure (from point 3) with different project names and it should work.</p>
<h1><span id="Enabling_pygments_highlighting_.28optional.29">Enabling pygments highlighting (optional)</span></h1>
<p>The one-click Trac installation does not install the pygments library, so almost all syntax highlighting will be disabled. The following simple steps will install and enable pygments.</p>
<p>First, create a directory to install pygments into (we will use ~/install for this example). Then run the following to install pygments into that directory.</p>
<pre>export PYTHONPATH=$PYTHONPATH:~/install
easy_install -d ~/install Pygments
</pre>
<p>Now that pygments is installed, the only thing left to do it make Trac aware of it. In the domain in which you installed Trac, you will find an index.fcgi file. For example: ~/trac.mywebsite.com/trac/index.fcgi. Edit that file and add the following line BEFORE the exec call. Be sure to change {USER} to your account name.</p>
<pre>export PYTHONPATH="/home/{USER}/install"
</pre>
<p>Note that you cannot just put "~/install" here because index.fgci is not going to be run under your user account. After that, simply browse to some code in Trac to verify that pygments has been enabled.</p>
<h1><span id="Easier_Installation">Easier Installation</span></h1>
<p><strong>Ease of Install:</strong> Easy to Average</p>
<p>We have various scripts available to install Trac on Dreamhost (in order of creation, impartial)</p>
<ul>
<li><a class="new" href="http://wiki.dreamhost.com/index.php?title=DreamTracInstall&amp;action=edit&amp;redlink=1" title="DreamTracInstall (page does not exist)">DreamTracInstall</a> BSD License</li>
<li><a href="http://www.fogel.ca/tag/auto-trac-on-dreamhost/">AutoTracOnDreamHost</a> GPLv3 License</li>
<li><a href="http://code.google.com/p/dreamy-trac/">dreamy-trac</a> BSD License
<ul>
<li>Allegedly obsolete per <a href="http://trac.mlalonde.net/wiki/CreamyTrac">Creamy-Trac</a> ...</li>
</ul>
</li>
<li><a href="http://trac.mlalonde.net/wiki/CreamyTrac">Creamy-Trac</a> BSD License
<ul>
<li>Fails on first run as of April-2010
<ul>
<li>Shell script fails here =&gt; <a href="http://ftp.icm.edu.pl/packages/SWIG/swig-1.3.36.tar.gz">http://ftp.icm.edu.pl/packages/SWIG/swig-1.3.36.tar.gz</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="new" href="http://wiki.dreamhost.com/index.php?title=Trac_with_proxy_server&amp;action=edit&amp;redlink=1" title="Trac with proxy server (page does not exist)">Trac with proxy server</a>
<ul>
<li>Requires <a class="mw-redirect" href="http://wiki.dreamhost.com/DreamHost_PS" title="DreamHost PS">DreamHost PS</a>/DS!</li>
</ul>
</li>
</ul>
<p><strike>Anyone of these scripts should be 100% easier to use than a manual install.</strike></p>
<p>Please read <a class="new" href="http://wiki.dreamhost.com/index.php?title=TracInstall&amp;action=edit&amp;redlink=1" title="TracInstall (page does not exist)">TracInstall</a> for more information about these scripts and what they have to offer.</p>
<h1><span id="Manual_Installation">Manual Installation</span></h1>
<p><strong>Use the Easier Installation Instructions!</strong> <strong>Unless you feel like a true hacker, go back up and look at the Easier Installation Instructions if you do not to waste hours or days of your life.</strong></p>
<p><strong>Ease of Install:</strong> Really Difficult for versions prior to 0.11 (reported conflicts with library versions) and Average for 0.11 (requires modification to some packages).</p>
<p>For help on using the shell you can take a look at the <a href="http://wiki.dreamhost.com/UNIX_commands" title="UNIX commands">UNIX commands</a> and you can also get help on <a href="http://wiki.dreamhost.com/UNIX_commands#Changing_directories" title="UNIX commands">changing directories</a>.</p>
<p>If you want to save the output for debugging and support then you can look at the <a class="mw-redirect" href="http://wiki.dreamhost.com/Fundamental_Unix_Commands#.3E_-_redirection_symbol" title="Fundamental Unix Commands">Redirection Symbol</a>.</p>
<h2><span id="Installing_Required_Tools">Installing Required Tools</span></h2>
<p><strong>Required that you do</strong> the <a href="http://wiki.dreamhost.com/Environment_Setup" title="Environment Setup">Environment Setup</a> for configuring the install paths for the packages.</p>
<h3><span id="Python">Python</span></h3>
<ol>
<li><a href="http://wiki.dreamhost.com/Python#Installation" title="Python">Python Installation Guide</a> - 2.4.4 or better
<ul>
<li>Some servers have Python 2.4.4 installed as <em>python2.4</em> binary</li>
</ul>
</li>
<li><a class="new" href="http://wiki.dreamhost.com/index.php?title=Clearsilver&amp;action=edit&amp;redlink=1" title="Clearsilver (page does not exist)">Clearsilver Installation Guide</a> - 0.10.5
<ul>
<li>Required only for 0.10.x versions</li>
<li>Requires modification before installation.</li>
</ul>
</li>
</ol>
<h3><span id="SQLite">SQLite</span></h3>
<ol>
<li><a href="http://wiki.dreamhost.com/SQLite" title="SQLite">SQLite Installation Guide</a> - 3.3.4</li>
<li><a class="mw-redirect" href="http://wiki.dreamhost.com/PySQLite" title="PySQLite">PySQLite Installation Guide</a> - 2.0.7</li>
</ol>
<h3><span id="Subversion">Subversion</span></h3>
<ol>
<li><a class="new" href="http://wiki.dreamhost.com/index.php?title=SWIG&amp;action=edit&amp;redlink=1" title="SWIG (page does not exist)">SWIG Installation Guide</a> 1.3.24 or above.
<ul>
<li>Use Recommended versions for your Subversion version.</li>
<li>Some server already have SWIG 1.3.24 instaled</li>
</ul>
</li>
<li><a href="http://wiki.dreamhost.com/Subversion_Installation" title="Subversion Installation">Subversion Installation Guide</a> - Use either 1.4.x or 1.5.x <strong>with python bindings</strong>.</li>
</ol>
<h2><span id="Trac_0.10.x">Trac 0.10.x</span></h2>
<p>Try natmaster's updated <a href="https://ntucker.true.io/ntucker/installing-trac-010/">installation guide</a> for installing 0.10.x.</p>
<h3><span id="Features">Features</span></h3>
<ul>
<li>InterTrac and InterWiki</li>
<li>Expermential MySQL support</li>
<li>Unicode Support</li>
</ul>
<h2><span id="Trac_0.11">Trac 0.11</span></h2>
<p>See the automated script for installing Trac version 0.11</p>
<h3><span id="Features_2">Features</span></h3>
<ul>
<li><a href="http://trac.edgewall.org/wiki/TracDev/ReleaseNotes/0.11">Lots</a></li>
</ul>
<h2><span id="Trac_0.12">Trac 0.12</span></h2>
<p>Trac 0.12 and some plugins need than the standard DreamHost Python installation. Fortunately, we can use virtualenv to augment the standard DH python for Trac 0.12's requirements.</p>
<p>1. Perform a "use locally" <a href="http://www.virtualenv.org/en/latest/">virtualenv</a> installation:</p>
<pre>   $ cd ~
   $ curl -O <a href="https://pypi.python.org/packages/source/v/virtualenv/virtualenv-X.X.tar.gz">https://pypi.python.org/packages/source/v/virtualenv/virtualenv-X.X.tar.gz</a>
   $ tar xvfz virtualenv-X.X.tar.gz
   $ mv virtualenv-X.X virtualenv
</pre>
<p>2. Use virtualenv to create a virtual Python instance for trac to use:</p>
<pre>   $ python virtualenv.py ~/trac/python
</pre>
<p>3. Add ~/trac/python/lib/python2.6/site-packages/ to PYTHONPATH by adding the following to the bottom of ~/.bash_profile and ~/.bashrc:</p>
<pre>   export PYTHONPATH=$PYTHONPATH:/home/your_ssh_user_name/trac/python/lib/python2.6/site-packages
</pre>
<p>4. Install Genshi <a class="external autonumber" href="http://genshi.edgewall.org/wiki/Download">[1]</a></p>
<pre>   python ~/trac/python/bin/easy_install --install-dir=~/trac/python/lib/python2.6/site-packages Genshi
</pre>
<p>5. Install trac <a class="external autonumber" href="http://trac.edgewall.org/wiki/0.12/TracInstall">[2]</a></p>
<pre>   python ~/trac/python/bin/easy_install Trac==0.12
</pre>
<p>6. Create trac instance <a class="external autonumber" href="http://trac.edgewall.org/wiki/0.12/TracInstall#DeployingTrac">[3]</a></p>
<pre>   ~/trac/python/bin/trac-admin &lt;/path/to/your/location&gt; initenv
</pre>
<p>7. Create the trac cgi-bin <a class="external autonumber" href="http://trac.edgewall.org/wiki/0.12/TracInstall#RunningTraconaWebServer">[4]</a></p>
<pre>   trac-admin &lt;/path/to/your/location&gt; deploy /tmp/deploy
   mv /tmp/deploy/* &lt;/path/to/cgi&gt;
</pre>
<p>8. Continue with configuration as below. Some Trac modules can be installed by using:</p>
<pre>   ~/trac/python/bin/easy_install &lt;module&gt;
</pre>
<h2><span id="Latest_Version">Latest Version</span></h2>
<p><strong>Not Recommended for Production Sites</strong></p>
<p>This will grab the development version of Trac, which will most likely be incomplete and thus filled with bugs which may halt the Trac site. Check the <a class="external autonumber" href="http://projects.edgewall.com/trac/roadmap">[5]</a> page for the active and closed bugs. Should only be used if you want to debug the latest version to help the Trac development.</p>
<pre>svn co http://svn.edgewall.com/repos/trac/trunk trac-latest
cd trac-latest
~/bin/python setup.py install
cp cgi-bin/trac.fcgi $HOME/share/trac/cgi-bin/
</pre>
<h1><span id="Configuration">Configuration</span></h1>
<p>To apply examples in this section replace <strong>{USER}</strong> with your shell username and <strong>{your.trac.environ}</strong> with the path to Trac environment.</p>
<h2><span id="Creating_a_Trac_Environment">Creating a Trac Environment</span></h2>
<p>For each Trac site you want to create you need to run the Trac environment setup tool. When using <tt>trac-admin</tt> the path you specify <strong>must not exist</strong> or you will receive errors. If DreamHost's domain bot created a directory where you want to install Trac you will need to delete it. Then run the setup tool:</p>
<pre>~/bin/trac-admin ~/{your.trac.environ} initenv
</pre>
<p>This will start an interactive script that will ask you some questions. Pressing enter accepts the default values.</p>
<ul>
<li>Project Name: This will appear at the top of the Trac site so enter what you want to see there.</li>
<li>Database connection string: press Enter</li>
<li>Path to repository: Specify the absolute path to your Subversion repository folder. e.g. <tt>/home/{USER}/svn/my project</tt></li>
<li>Templates directory: press Enter</li>
</ul>
<p>If you need to make changes then you can do so by editing ~/{your.trac.environ}/conf/trac.ini</p>
<h2><span id="Setting_up_on_your_Domain">Setting up on your Domain</span></h2>
<p>You need to do these steps for each Trac environment that you create. The steps are for <a href="http://wiki.dreamhost.com/FastCGI" title="FastCGI">FastCGI</a>, but you can use for plain <a href="http://wiki.dreamhost.com/CGI" title="CGI">CGI</a> if you remove the 'f' from the file names and uncomment some lines in the directions.</p>
<p>You can not run the <a href="http://wiki.dreamhost.com/CGI" title="CGI">CGI</a> bash script from the command line. It will return errors if you do. You may run the bash script from the command line if you want to debug, but just ignore the 500 error that will show up and focus on the other errors.</p>
<p><br/> <strong>Make sure you are in the directory of the public web site.</strong></p>
<pre>cd yourdomain.com
</pre>
<p>Creating the index file for <a href="http://wiki.dreamhost.com/FastCGI" title="FastCGI">FastCGI</a></p>
<pre>nano index.fcgi
</pre>
<p>In the editor enter this text and carefully change <strong>{USER}</strong> and <strong>{your.trac.environ}</strong>:</p>
<pre>#!/bin/bash
export TRAC_ENV="/home/{USER}/{your.trac.environ}"
 
# If you get 500 errors maybe you need to set/export the LD_LIBRARY_PATH,
# just uncomment the following lines and make sure it points to the same place
# you used before (<a href="http://wiki.dreamhost.com/Environment_Setup" title="Environment Setup">Environment Setup</a>).
# export LD_LIBRARY_PATH=/home/{USER}/lib/
# export PATH="/home/{USER}/bin:$PATH"
 
exec /home/{USER}/share/trac/cgi-bin/trac.fcgi

# unless you're using regular CGI in which case comment the above
# and uncomment the next line
# exec /home/{USER}/share/trac/cgi-bin/trac.cgi
</pre>
<p>Save and Close the file by pressing:</p>
<pre>Ctrl+O
Ctrl+X
</pre>
<p>Change permissions on the bash file (index.fcgi for FastCGI and index.cgi for CGI)</p>
<pre>chmod 755 index.fcgi
</pre>
<p>Edit the .htaccess file</p>
<pre>nano .htaccess
</pre>
<p>Add the following. <strong>Warning: This may cause a 500 Server error and to solve just comment out these lines.</strong></p>
<pre># This will cause all files ending with .cgi to be handled as a cgi script
#&lt;Files *.cgi&gt;
#      SetHandler cgi-script
#&lt;/Files&gt;
# For FastCGI, comment the above line and uncomment the next 3 lines.
&lt;Files *.cgi&gt;
       SetHandler fastcgi-script
&lt;/Files&gt;
</pre>
<p>You need to enable FastCGI in the domain Panel for the domain you are setting up.</p>
<p>This is safe.</p>
<pre># Set the default page to what ever is the default file.
# Use if you are using FastCGI and uncomment the next line
DirectoryIndex index.fcgi
</pre>
<h2><span id="FastCGI_Errors">FastCGI Errors</span></h2>
<p>Most FastCGI errors can be tracked down in your site's error.log file (see logs/yourdomain.com/http/error.log). If you are having trouble making sense of the errors in the file, contact support and include the last few lines in your site's error.log file.</p>
<h2><span id="Permissions_.28Create_Admins.29">Permissions (Create Admins)</span></h2>
<p>This is required whether you use DbAuth or the login hacks. For each user specify their access</p>
<pre> ~/bin/trac-admin /home/{USER}/{your.trac.environ} permission add tracAdminUserName TRAC_ADMIN
</pre>
<p>You can also create groups, and assign permissions to groups</p>
<pre> trac-admin /home/{USER}/{your.trac.environ} permission add developers TICKET_CHGPROP
 trac-admin /home/{USER}/{your.trac.environ} permission add developers WIKI_MODIFY
 trac-admin /home/{USER}/{your.trac.environ} permission add developers WIKI_CREATE
</pre>
<p>ANd then add users to groups</p>
<pre> ~/bin/trac-admin /home/{USER}/{your.trac.environ} permission add john developers
 ~/bin/trac-admin /home/{USER}/{your.trac.environ} permission add mike developers
</pre>
<p><br/> Of course once you create one admin you can do all this from the web interface.</p>
<h2><span id="Logging_In">Logging In</span></h2>
<p>You have three choices</p>
<ol>
<li>Use the Log In Hacks in the next section. (not recommended)</li>
<li>Use DB Authenticate in the Plugins section. <strong>Recommended: just follow the guide to install and configure</strong></li>
<li>Use OpenID Plugin <strong>Best Option - works on Trac 0.11</strong> See <a href="http://wiki.dreamhost.com/Trac#AuthOpenID" title="Trac">Plugins section</a> for full install instructions.</li>
</ol>
<h2><span id="Log_In_Hack">Log In Hack</span></h2>
<p><strong>Make sure you are in the directory of the public web site.</strong></p>
<pre>cd yourdomain.com
</pre>
<p>Copy the index file to admin for the log in hack</p>
<pre>cp index.fcgi admin.fcgi
</pre>
<p>Go to your domain folder and create a .htaccess file:</p>
<pre>nano .htaccess
</pre>
<p>In the editor add this text to the end and carefully change <strong>{USER}</strong>, <strong>{your.trac.environ}</strong>, and <strong>{path.to.trac}</strong> (where Trac is on your website; eg, if you have Trac available at <a href="http://example.com/trac">http://example.com/trac</a>, <strong>{path.to.trac}</strong> would be <strong>/trac</strong>):</p>
<pre># Authentication Hack
&lt;Files "admin.fcgi"&gt;
      AuthType Basic
      AuthUserFile /home/{USER}/{your.trac.environ}/trac.htpasswd
      AuthName "Trac Sign In"
      require valid-user
&lt;/Files&gt; 

# Make sure rewrites work
Options ExecCGI FollowSymLinks
 
# Make sure the Rewrite Module is installed
&lt;IfModule mod_rewrite.c&gt;
      RewriteEngine On
      RewriteRule ^index\.fcgi/login$ {path.to.trac}/admin.fcgi/login
      RewriteRule ^admin\.fcgi/logout$ {path.to.trac}/index.fcgi/logout
&lt;/IfModule&gt;
</pre>
<p>Save and Close the file by pressing:</p>
<pre>Ctrl+O
Ctrl+X
</pre>
<p>You will need to create the password file for the basic log in hack. Create the file in the location of the <tt>AuthUserFile</tt> in the .htaccess. You can change the AuthUserFile to the location of your password file.</p>
<p><strong>TO manage users with this Hack you have 2 options;</strong></p>
<h4><span id="Use_SVN_Password_File">Use SVN Password File</span></h4>
<p>Create your users through the DreamHost Panel and users can use the same credentials for svn and trac acess</p>
<p>Add the Username in the password file to Trac. This will give the user full access to everything.</p>
<pre>~/bin/trac-admin /home/{USER}/{your.trac.environ} permission add tracAdminUserName TRAC_ADMIN
</pre>
<p>Change Auth path to SNV password file</p>
<pre>AuthUserFile /home/{USER}/svn/ProjectName.passwd</pre>
<p><strong>OR</strong></p>
<h4><span id="Use_New_Password_File">Use New Password File</span></h4>
<p>Change to your Trac Environment</p>
<pre>cd ~/{your.trac.environ}
</pre>
<p>Use htpasswd to create the password file (change tracAdminUserName to the username)</p>
<pre>htpasswd -c trac.htpasswd tracAdminUserName
</pre>
<p>Afterwards it will prompt for a password which you type</p>
<pre>New password: &lt;type password&gt;
Re-type new password: &lt;type password again&gt;
Adding password for user tracAdminUserName
</pre>
<p>If you want to create a new user, omit the <tt>-c</tt> parameter.</p>
<pre>htpasswd trac.htpasswd NewUserName
</pre>
<p>And enter the password</p>
<pre>New password: &lt;type password&gt;
Re-type new password: &lt;type password again&gt;
Adding password for user NewUserName
</pre>
<p>Add the Username in the password file to Trac. This will give the user full access to everything.</p>
<pre>~/bin/trac-admin /home/{USER}/{your.trac.environ} permission add tracAdminUserName TRAC_ADMIN
</pre>
<p>There are more permissions you can assign to people, just read through <em>trac-admin help permissions add</em> and you'll see.</p>
<h2><span id="Pretty_URLs">Pretty URLs</span></h2>
<p>If you've followed the instructions here to install Trac using fcgi, and assuming that your Trac environment is /home/mysite/trac.mysite.com then your Trac URLs probably look something like <code>http://trac.mysite.com/index.fcgi/wiki</code>.</p>
<p>If you'd like to hide ugly the <code>index.fcgi</code> part of every Trac URL, try this hack:</p>
<h3><span id="Step_1:_Hack_the_Trac_base_url">Step 1: Hack the Trac base_url</span></h3>
<p>Trac uses a variable called base_url to determine the root of the Trac URL for all links. When running Trac as cgi or fcgi, this is set to <code>/index.fcgi</code> internally. Currently (as of Trac 0.9.4, there is no graceful way to change this, but I found a easy way to hack it by editing the cgi_frontend.py script deep inside your python libraries:</p>
<pre> cd /home/{USER}/lib/python2.3/site-packages/trac/web

 # backup the original cgi_frontend.py in case you want to revert
 cp cgi_frontend.py cgi_frontend.py.orig

 # open cgi_frontend.py in your favorite editor
 nano cgi_frontend.py
</pre>
<p>On line 51, you'll see where <code>self.cgi_location</code> is set to <code>self.__environ.get('SCRIPT_NAME')</code>. We want to reassign <code>self.cgi_location</code> to the script's directory instead, and later use Apache mod_rewrite to make sure that <code>index.fcgi</code> is called behind the scenes. Edit line 51:</p>
<pre> # before:
          self.cgi_location = self.__environ.get('SCRIPT_NAME')

 # after:
          self.cgi_location = os.path.dirname(self.__environ.get('SCRIPT_NAME'))
</pre>
<p>Now, if you reload your Trac page and try to click on any internal link, the <code>index.fcgi</code> is left out of the URL. It won't work yet ... now to step 2</p>
<h3><span id="Step_2:_RewriteRule">Step 2: RewriteRule</span></h3>
<p>Go back to your Trac environment and edit your <code>.htaccess</code> file.</p>
<pre>cd ~/trac.mysite.com
vim .htaccess
</pre>
<p>Make your .htaccess file look something like this. This assumes that you want the wiki page to show up as the default home page ... if you want it as something different, just change the DirectoryIndex line.</p>
<pre>DirectoryIndex wiki

# Make sure rewrites work
Options ExecCGI FollowSymLinks

&lt;IfModule mod_rewrite.c&gt;
  RewriteEngine On
  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME} !-d
  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME} !-f
  RewriteCond $1 !^index.fcgi/(.*)
  # Keep the graphics and style sheet the way they are
  RewriteCond $1 !^(.*).css$
  RewriteCond $1 !^(.*).gif$
  RewriteCond $1 !^(.*).jpg$
  RewriteCond $1 !^(.*).png$
  RewriteCond $1 !^(.*).js$
  RewriteRule ^(.*)$ index.fcgi/$1 [L]
&lt;/IfModule&gt;
</pre>
<p>The RewriteCond and RewriteRule above maps every request by invisibly adding <code>index.fcgi</code> between the root and the URI. When you save and reload your Trac web page, you should see really nice looking URLs like <code>http://trac.mysite.com/wiki/TracGuide</code>.</p>
<p><em>Using Trac 0.9.6, with this method (a) I had to do a soft link "attachment" (singular) in the HTML directory to the directory "attachments" in the trac environment; (b) file names with spaces don't work [possibly unrelated], (c) only the first of several attachments shows up in the list. Anyone have more info or fixes for this? We have a dedicated server. Has anyone had success using ScriptAlias or ScriptAliasMatch? -Don</em></p>
<p>If you have access to your httpd.conf file (which you don't on a Dreamhost shared server), then there is a more elegent way of doing this with ScriptAlias.</p>
<h2><span id="Troubleshooting_DirectoryIndex">Troubleshooting DirectoryIndex</span></h2>
<p>If the browser is not pointing to the file in the DirectoryIndex, then you can opt into using a normal index.php file with an internal redirect to the file you want. The host is configured to automatically go to any file named index.php, index.html, index.cgi, but <strong>not</strong> index.fcgi, which is why the DirectoryIndex is needed.</p>
<p>In case the DirectoryIndex is not working you might add an index.php files and change the DirectoryIndex:</p>
<pre>nano .htaccess
</pre>
<p>And change the DirectoryIndex value (uncomment it if it's commented).</p>
<pre> DirectoryIndex index.php
</pre>
<p>Creating the index.php file</p>
<pre>nano index.php
</pre>
<p>And write:</p>
<pre> &lt;?php
   header('Location: index.fcgi'); //Or index.cgi, depending in which one you preffered
 ?&gt;
</pre>
<p>Change the permissions on the .htaccess file</p>
<pre>chmod 644 .htaccess
</pre>
<h2><span id="Troubleshooting_database_locked_errors">Troubleshooting database locked errors</span></h2>
<p>With concurrent access to <a href="http://wiki.dreamhost.com/SQLite" title="SQLite">SQLite</a> you may wish to build sqlite3 from source with the threadsafe option before installing trac.</p>
<h2><span id="Enabling_Email_Notices">Enabling Email Notices</span></h2>
<p>The default One-Click Install of Trac does not enable SMTP (Email) notices. This is a problem if you change your email address in the preferences as you get locked out! To enable email notification simply open ~{your.trac.environ}/conf/trac.ini and change the following lines under the <strong>[notification]</strong> section:</p>
<pre>smtp_enabled = false
smtp_from = trac@localhost
...
smtp_replyto = trac@localhost
</pre>
<p>to</p>
<pre>smtp_enabled = true
smtp_from = trac@{yourdomain}.com
...
smtp_replyto = trac@{yourdomain}.com
</pre>
<p>It is important that you put in a "valid" email address in the from and replyto or else sendmail will croak. Now save and upload your trac.ini file, that's it.</p>
<h1><span id="Plugins">Plugins</span></h1>
<p><strong>Using DreamHost's 'One-Click INstall'?</strong> Use openID plugin to avoid hassle of login hack and dbauth.</p>
<p>Also, be sure and replace <em>{USER}</em>, with your shell username and <em>{your.trac.environ}</em> with your trac environment.</p>
<p>When installing plugins on a CGI or FastCGI environment, there may be a delay in the activation of the plugin. This will delay of fixing errors and when you're able to use the plugin. It Trac internal egg cache, but the plugins are activated and changed no later than 24 hours.</p>
<p>Ensure that the easy_install libraries are in your PYTHONPATH in the cgi/fcgi script, else links and eggs will not be activated.</p>
<p>Go to your Trac environment plugins folder.</p>
<pre>cd ~/{your.trac.environ}/plugins
</pre>
<p><br/> <strong>Recommended Plugins</strong></p>
<ul>
<li>WebAdmin</li>
<li>DB Authenticate</li>
</ul>
<h2><span id="Installing_with_easy_install">Installing with easy_install</span></h2>
<p>To install a trac plugin from source, a typical usage is:</p>
<pre> easy_install --install-dir=$PYTHONPATH <a href="http://svn.source.of.plugin">http://svn.source.of.plugin</a>
</pre>
<h2><span id="AuthOpenID">AuthOpenID</span></h2>
<h3><span id="The_Concept_.2F_Goal">The Concept / Goal</span></h3>
<p><strong>This plugin allows users to use OpenId to signin.</strong> This means you, or potential visitors/collaborators. You may still manage permissions on the back end. <a class="image" href="http://wiki.dreamhost.com/File:OpenIDLogin.PNG"><img alt="OpenIDLogin.PNG" height="270" src="http://wiki.dreamhost.com/images/8/8e/OpenIDLogin.PNG" width="504"/></a></p>
<h3><span id="Before_you_Start">Before you Start</span></h3>
<p>These instructions are based on a one-click install on a DreamHost PS. Which means that python packages are the core,and not in a user's home - So you'll need a sudo shell account (see panel). <strong>If you are on a shared server</strong> you will need to specify the path to your own install of python, and do not need sudo access.</p>
<h3><span id="OpenID_plugin_Install">OpenID plugin Install</span></h3>
<ul>
<li>open terminal</li>
<li>browse to a location (i use a junk drawer type folder for things like this)</li>
</ul>
<pre>cd ~/install_files</pre>
<ul>
<li>obtain the openid plugin (now moved to <a href="https://github.com/dairiki/authopenid-plugin#readme">Github</a>)</li>
</ul>
<pre>https://github.com/dairiki/authopenid-plugin#readme</pre>
<ul>
<li>open plugin directory</li>
</ul>
<pre>cd authopenid-plugin</pre>
<ul>
<li>install (PS Users)</li>
</ul>
<pre>sudo python setup.py install</pre>
<ul>
<li>install (Shared Users)</li>
</ul>
<pre>python setup.py install</pre>
<h3><span id="Element_Tree">Element Tree</span></h3>
<p>Element tree is a library used by python. If you notice an error in your logs like</p>
<pre>ImportError: No ElementTree found. You may need to install one. Tried importing ['lxml.etree', 'xml.etree.cElementTree', 'xml.etree.ElementTree', 'cElementTree', 'elementtree.ElementTree'] 
</pre>
<p>than you need to install the library below.</p>
<ul>
<li>obtain ElementTree</li>
</ul>
<pre>wget http://effbot.org/media/downloads/elementtree-<span class="skype_c2c_container notranslate" data-isfreecall="false" data-ismobile="false" data-isrtl="false" data-numbertocall="+12620050316" data-numbertype="paid" dir="ltr" id="skype_c2c_container" tabindex="-1"><span class="skype_c2c_highlighting_inactive_common" dir="ltr"><span class="skype_c2c_textarea_span" id="non_free_num_ui"><img alt="" class="skype_c2c_logo_img" height="0" src="resource://skype_ff_extension-at-jetpack/skype_ff_extension/data/call_skype_logo.png" width="0"/><span class="skype_c2c_text_span">1.2.6-20050316</span></span></span></span>.tar.gz</pre>
<ul>
<li>open plugin directory</li>
</ul>
<pre>cd elementtree-1.2.6-20050316</pre>
<ul>
<li>install (PS Users)</li>
</ul>
<pre>sudo python setup.py install</pre>
<h3><span id="Final_Configuration">Final Configuration</span></h3>
<p>Finally we enable the plugin through trac.ini</p>
<pre>[components]
authopenid.* = enabled
</pre>
<p>We also need to eliminate the rewrite rules of the one-click install. Pretty URLs are useless if they break everything.</p>
<pre>&lt;Files *.cgi&gt;
	SetHandler fastcgi-script
&lt;/Files&gt;

DirectoryIndex index.fcgi

# Make sure rewrites work
Options ExecCGI FollowSymLinks

	RewriteEngine On

# fix missing logo issue
RewriteRule ^(index.fcgi/chrome/site/)(.*)$ ./chrome/site/$2

#force those visiting root to have index.fcgi in path (makes links work)
RewriteRule ^$ /&lt;subdirectory_if_any&gt;/index.fcgi/ [R]
</pre>
<h3><span id="Summing_Up">Summing Up</span></h3>
<p>Now anyone with an OpenID may sign into your site! You can use the backend to add your initial admin.</p>
<p><strong>I highly recommend you create your own OpenID provider</strong></p>
<p><strong>Granting ADMIN permissions to a third party url may allow others to achieve admin rights</strong></p>
<p><a href="http://siege.org/projects/phpMyID/">phpMyID</a> is a great single user solution, and is as simple as uplaoding two files to your server. (DreamHost user's need to uncomment option one in the htaccess file, but thats all in the phpMyID README file)</p>
<p>You then set your url as the admin, since I setup phpMyID at the url <em><a href="http://openid.mydomain.com/">http://openid.mydomain.com/</a></em>, for me it might be</p>
<pre> trac-admin /path/to/trac/site permission add http://openid.mydomain.com/myid.config.php TRAC_ADMIN</pre>
<p>SInce you'll be the only one who has the password for your installation this is a secure method.</p>
<p><strong>Please add any errors you encounter to the discussion page!</strong></p>
<h2><span id="WebAdmin">WebAdmin</span></h2>
<p>WebAdmin is the <em>Official</em> web administration plugin for Trac. You can set it up globally or for each trac environment. This guide shows you how to set it up for each trac environment. You can find out how to do it globally by going to the Trac Plugin Guide, but it requires a little bit more work.</p>
<h3><span id="Trac_0.11_and_later">Trac 0.11 and later</span></h3>
<p>The plugin is no longer necessary starting with version 0.11 of Trac, as it has been integrated into the core package. However don't forget to give permissions to your user.</p>
<pre>trac-admin /path/to/my/project
permission add username-from-htpasswd TRAC_ADMIN
permission list username-from-htpasswd
</pre>
<p>Note that /path/to/my/project is the domain directory (e.g., trac.mydomain.com), the one which has a VERSION file in it.</p>
<h3><span id="Trac_versions_prior_to_0.11">Trac versions prior to 0.11</span></h3>
<p>Find out which version to download, go the <a href="http://projects.edgewall.com/trac/wiki/WebAdmin">WebAdmin Plugin Page</a>. These settings are for Trac 0.9.x and Python 2.3.</p>
<p>Download the plugin</p>
<pre>wget <a href="http://projects.edgewall.com/trac/attachment/wiki/WebAdmin/TracWebAdmin-0.1.1dev_r2765-py2.3.egg.zip?format=raw">http://projects.edgewall.com/trac/attachment/wiki/WebAdmin/TracWebAdmin-0.1.1dev_r2765-py2.3.egg.zip?format=raw</a>
</pre>
<p>You have to remove the zip part and rename it so it isn't so big.</p>
<pre>mv TracWebAdmin-0.1.1dev_r2765-py2.3.egg.zip TracWebAdmin.egg
</pre>
<p>At this point, if it is in your plugins folder then Trac should just pick it up and enable it. If not, then you need to edit your trac.ini file. It is recommended that you do this anyway, to minimize headache.</p>
<pre>nano ~/{your.trac.environ}/conf/trac.ini
</pre>
<p>Scroll down to the bottom and add the components section if it doesn't exist already.</p>
<pre>[components]
webadmin.* = enabled
</pre>
<h2><span id="DB_Authenticate">DB Authenticate</span></h2>
<p><em><strong>Does not work with Account Manager Plugin.</strong></em> Recommended Plugin for form based log in.</p>
<p>Use if you want to have a form instead of using the Login hack. Further install instructions and howto at <a href="http://trac-hacks.org/wiki/DbAuthPlugin">http://trac-hacks.org/wiki/DbAuthPlugin</a>.</p>
<p>Checkout the plugin files</p>
<pre>svn co <a href="http://trac-hacks.org/svn/dbauthplugin">http://trac-hacks.org/svn/dbauthplugin</a>
</pre>
<p>Change directory to install</p>
<pre>cd dbauthplugin/0.9/
</pre>
<p>Compile Egg</p>
<pre>~/path/to/python setup.py bdist_egg
</pre>
<p>Move Egg to Plugin Folder</p>
<pre>mv dist/TracDbAuth-0.1dev-py2.3.egg ~/{your.trac.environ}/plugins/TracDbAuth.egg
</pre>
<p>Change Directory to install folder</p>
<pre>cd install
</pre>
<p>You need to build the tables for the Plugin to work.</p>
<pre>~/path/to/sqlite user.db
</pre>
<p>After you type that the following lines will start with</p>
<pre>sqlite&gt;
</pre>
<p>Input the following after it.</p>
<p>Read the create-tables.sql</p>
<pre>.read create-tables.sql
</pre>
<p>You need to populate the tables with insert statements. The author doesn't give any documentation, so just follow the directions. Change <tt>{username}</tt>, <tt>{password}</tt>, and {email} to the values you want.</p>
<pre>INSERT INTO trac_users VALUES ('all', '{username}', '{password}', '{email}');
</pre>
<p>You will also need to add permissions for the user and use the same ones when you used the trac-admin. If you use a group then you need to make sure to use trac-admin to give the group permissions. If not then leave the <em>group</em> blank.</p>
<pre>INSERT INTO trac_permissions VALUES ('all', '{username}', '{group}');
</pre>
<p>After you need to quit</p>
<pre>.quit
</pre>
<p>Move the database to your trac environment</p>
<pre>mv user.db ~/{your.trac.environ}/user.db
</pre>
<p>Remove the dbauth folder and type 'y' and enter if asked.</p>
<pre>cd ../../../
rm -Rf dbauthplugin
</pre>
<p>Edit the Trac Environment configuration file</p>
<pre>nano ~/{your.trac.environ}/conf/trac.ini
</pre>
<p>Add the following at the bottom (From <a href="http://trac-hacks.org/wiki/DbAuthPlugin">http://trac-hacks.org/wiki/DbAuthPlugin</a>)</p>
<pre>[components]
trac.web.auth.* = disabled
dbauth.* = enabled
trac.userdir.* = enabled  # only if you want to use this

[central]
database = /home/{your.shellusername}/{your.trac.environ}/user.db
envroot = /home/{your.shellusername}/
</pre>
<h2><span id="Account_Manager">Account Manager</span></h2>
<p><em><strong>Does not work with DB Authenticate Plugin</strong></em></p>
<p>The account manager allows Trac to manage the password file through the site. You still need to create the password file and add the first user.</p>
<p>Download the plugin (for Trac v0.11)</p>
<pre>svn co <a href="http://trac-hacks.org/svn/accountmanagerplugin/0.11">http://trac-hacks.org/svn/accountmanagerplugin/0.11</a>
</pre>
<p>Go to the Account Manager folder</p>
<pre>cd 0.11
</pre>
<p>Build the Plugin Egg</p>
<pre>python setup.py bdist_egg
</pre>
<p>At this point there will be a lot of folders and files. You only need the egg.</p>
<pre>cd dist
</pre>
<p>Move the Egg to the base plugin folder (Note, if you installed Python 2.4 then it will be py2.4 instead of py2.3)</p>
<pre>mv TracAccountManager-0.1.2-py2.3.egg ~/{your.trac.environ}/plugins/TracAccountManager.egg
</pre>
<p>Remove the junk files</p>
<pre>cd ../../
rm -Rf 0.11
</pre>
<p>You have to edit the configuration file.</p>
<pre>nano ~/{your.trac.environ}/conf/trac.ini
</pre>
<p>Add the following to the beginning of the file, as it enables basica form-based login functionality for your trac.</p>
<pre>[account-manager]
authentication_url =
force_passwd_change = true
hash_method = HtDigestHashMethod
htdigest_realm =
htpasswd_hash_type = crypt

password_file = /home/{USER}/{your.trac.environ}/trac.htpasswd
;Comment above and uncomment below to use your subversion passwd file
;password_file = /home/{USER}/svn/{repository}.htpasswd

password_format = htpasswd
password_store = HtPasswdStore
persistent_sessions = true
refresh_passwd = False
user_lock_max_time = 0
verify_email = true

[components]
acct_mgr.admin.* = enabled
acct_mgr.api.* = enabled
acct_mgr.db.* = enabled
acct_mgr.htfile.* = enabled
acct_mgr.htfile.htpasswdstore = enabled
acct_mgr.http.* = enabled
acct_mgr.notification.* = enabled
acct_mgr.pwhash.* = enabled
acct_mgr.svnserve.* = enabled
acct_mgr.web_ui.* = enabled
acct_mgr.web_ui.loginmodule = enabled
acct_mgr.web_ui.registrationmodule = disabled
trac.web.auth.loginmodule = disabled
</pre>
<p>The last steps are to make sure a valid user from your password file is added to TRAC_ADMIN group (trac-admin /path/to/trac permission add user TRAC_ADMIN) and to restart the trac fastcgi process if it is running (ps axu ; then kill the ip for the trac fastcgi).</p>
<p>NOTE: If you get a message that the username and password do not exist. You may need to change the above configuration. The latest version of the TracAccountManager plugin uses <strong>htpasswd_file</strong> instead of <strong>password-file</strong> re <a href="http://trac-hacks.org/ticket/9608">http://trac-hacks.org/ticket/9608</a></p>
<p>NOTE: If the 'login' link disappears it is likely due to a python upgrade on the server. To fix the issue and restore login functionality, you will need to build/re-compile the "AccountManager" egg again and go from there.</p>
<pre>Trac uses a plugin called account manager which is built from Python source.
The old server ran Python 2.5.x and the new server runs Python 2.6.6.
The account manager egg was previously built on Python 2.5.x.
Plugins/eggs must be built with the same version of python that they are running on (egg version = server version).
To fix the issue, install Python 2.6.6 and recompile the egg, then upload it to the appropriate folder.
</pre>
<p><a href="https://discussion.dreamhost.com/thread-126894.html?highlight=trac">https://discussion.dreamhost.com/thread-126894.html?highlight=trac</a></p>
<h1><span id="External_Links">External Links</span></h1>
<p><a href="http://projects.edgewall.com/trac/">Trac Project</a> maintains the <a href="http://projects.edgewall.com/trac/wiki/TracInstall">Trac Installation Guide</a>. This may be useful for attempting to install the latest version of Trac and the associated tools.</p>
<p><a href="http://www.flipturn.org/TracOnDreamhost.html">Trac 0.10.x using MySQL</a>. Modifications to <a href="http://wiki.dreamhost.com/Trac#Dead_Links_April_2010" title="Trac">Natmaster</a>'s guide for MySQL support, and a script to import your SQLite data into MySQL. (2007-01-11)</p>
<h2><span id="Dead_Trac_Links_April_2010">Dead Trac Links April 2010</span></h2>
<p><strike><a href="http://natalian.org">Natalian.org</a> - Asked Dreamhost to install Debian Trac package.</strike> 22-April-2010: not a direct link to Trac info</p>
<p><strike>[<a href="http://li.mn/work/2006/07/11/484/installing-trac-on-dreamhost">Another how-to</a>. My write up on installing Trac on my DreamHost account (2006-07-11)</strike> 22-April-2010: dead link @ <a href="http://li.mn">http://li.mn</a></p>
<p><strike>[<a href="http://natmaster.com/articles/installing_trac.php">Yet another how-to</a>. A clear walk-through for installing Trac on a DreamHost account (2006-07-22)</strike> 22-April-2010: dead link</p>
<p><strike>[<a href="http://natmaster.com/articles/installing_trac_0.10.php">Updated guide for 0.10.x</a>. Natmaster's updated guide for new software versions. (2006-12-21)</strike> 22-April-2010: dead link</p>
<p><strike><a class="external autonumber" href="http://projects.urduweb.org/">[6]</a> - Urduweb Software Projects</strike> 22-April-2010: dead link</p>
<h1><span id="Alternative_Packages">Alternative Packages</span></h1>
<ul>
<li><a href="http://wiki.dreamhost.com/Redmine" title="Redmine">Redmine</a> - Ruby on Rails issue tracker.</li>
<li><a href="http://wiki.dreamhost.com/Bugzilla" title="Bugzilla">Bugzilla</a> - Perl-based, requires some module installations.</li>
<li><a href="http://www.mantisbt.org/">www.mantisbt.org</a> - a PHP bug tracker, so it will be the easiest to install.</li>
<li><a href="http://www.flyspray.org">Flyspray</a> - a PHP bug tracker. Handles multiple projects with separation and security. It works well in conjunction with <a href="http://dokuwiki.org">DokuWiki</a> for the Wiki capability.</li>
<li><strike><a href="http://collaboa.org">Collaboa</a> - a Ruby on Rails clone of Trac</strike> April 2010: obsolete link, apparently no longer active</li>
<li><a href="http://retrospectiva.org/">Retrospectiva</a> - a Ruby on Rails <a href="http://www.railsinside.com/misc/356-retrospectiva-open-source-project-management-rails-app.html#comment-1194">fork of Collaboa</a></li>
</ul>
