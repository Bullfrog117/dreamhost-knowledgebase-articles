<div>
<table style="text-align: center; background-color: #ffefef; border: 1px solid #FF9F9F; padding: 0px; margin: 0 auto 2em auto; width: 80%;">
<tbody>
<tr>
<td><strong>The instructions provided in this article or section are considered advanced.</strong><br />
<p>You are expected to be knowledgeable in the UNIX shell.<br /> <span style="font-size: 1.1em; text-decoration: blink;"><em>Support for these instructions is <strong>not available</strong> from DreamHost tech support.</em></span><br /> <span style="font-size: 1.1em;"><strong><em>Server changes performed by DreamHost may break your modifications. You, as the user, are responsible for troubleshooting and resolving issues with your customizations.</em></strong> </span><strong><em><br /></em></strong></p>
</td>
</tr>
</tbody>
</table>
</div>
<div>
<table style="text-align: center; background-color: #efefff; border: 1px solid #9F9FFF; padding: 0px; margin: 0 auto 2em auto; width: 80%;">
<tbody>
<tr>
<td><strong>The instructions provided in this article or section require <a title="Shell" href="http://wiki.dreamhost.com/Shell">shell</a> access unless otherwise stated.</strong><br />
<p>You can use the <a title="PuTTY" href="http://wiki.dreamhost.com/PuTTY">PuTTY</a> client on Windows, or <a title="SSH" href="http://wiki.dreamhost.com/SSH">SSH</a> on <a title="Category:UNIX" href="http://wiki.dreamhost.com/Category:UNIX">UNIX</a> and UNIX-like systems such as Linux or Mac OS X.<br />Your account must be configured for shell access in the <a class="mw-redirect" title="Control Panel" href="http://wiki.dreamhost.com/Control_Panel">Control Panel</a>.<br />More information may be available on the article's <a title="Talk:Roundcube" href="http://wiki.dreamhost.com/Talk:Roundcube">talk page</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
</div>
<div id="toc" class="toc">
<ul>
<li class="toclevel-1 tocsection-1"><a href="http://wiki.dreamhost.com/Roundcube#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="http://wiki.dreamhost.com/Roundcube#Installing_Roundcube"><span class="tocnumber">2</span> <span class="toctext">Installing Roundcube</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="http://wiki.dreamhost.com/Roundcube#Troubleshooting"><span class="tocnumber">3</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="http://wiki.dreamhost.com/Roundcube#Checking_PHP_extensions"><span class="tocnumber">3.1</span> <span class="toctext">Checking PHP extensions</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="http://wiki.dreamhost.com/Roundcube#Authentication_failed"><span class="tocnumber">3.2</span> <span class="toctext">Authentication failed</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="http://wiki.dreamhost.com/Roundcube#Test_SMTP_config"><span class="tocnumber">3.3</span> <span class="toctext">Test SMTP config</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="http://wiki.dreamhost.com/Roundcube#Test_IMAP_config"><span class="tocnumber">3.4</span> <span class="toctext">Test IMAP config</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="http://wiki.dreamhost.com/Roundcube#Limitations"><span class="tocnumber">4</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="http://wiki.dreamhost.com/Roundcube#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>
<h2><span id="Overview" class="mw-headline">Overview</span></h2>
<dl>
<dd></dd>
<dd></dd>
</dl>
<table border="0" width="70%" cellspacing="0" cellpadding="10">
<tbody>
<tr>
<td style="border: 1px solid #F6666A; width: 13%; valign=center; white-space: nowrap;"><a class="image" href="http://wiki.dreamhost.com/File:Dh-kb-important-icon.fw.png"><img src="http://wiki.dreamhost.com/images/3/34/Dh-kb-important-icon.fw.png" alt="Dh-kb-important-icon.fw.png" width="51" height="51" /></a> <span style="color: #f6666a;"><big><strong>Important:</strong></big></span></td>
<td style="border-left: solid 1px white; border-right: solid 1px #F6666A; border-top: solid 1px #F6666A; border-bottom: solid 1px #F6666A; width: 87%;">
<p>Roundcube Webmail is no longer offered at DreamHost. The new and modern alternative DreamHost currently uses is Atmail. View the following article for further details:</p>
<ul>
<li><a title="Atmail" href="http://wiki.dreamhost.com/Atmail">Atmail</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p>However, you are still able to manually install your own version of Roundcube if you would like to use it instead. This article describes the steps to install your own version of Roundcube.</p>
<dl>
<dd></dd>
<dd></dd>
</dl>
<table border="0" width="70%" cellspacing="0" cellpadding="10">
<tbody>
<tr>
<td style="border: 1px solid #F6666A; width: 13%; valign=center; white-space: nowrap;"><a class="image" href="http://wiki.dreamhost.com/File:Dh-kb-important-icon.fw.png"><img src="http://wiki.dreamhost.com/images/3/34/Dh-kb-important-icon.fw.png" alt="Dh-kb-important-icon.fw.png" width="51" height="51" /></a> <span style="color: #f6666a;"><big><strong>Important:</strong></big></span></td>
<td style="border-left: solid 1px white; border-right: solid 1px #F6666A; border-top: solid 1px #F6666A; border-bottom: solid 1px #F6666A; width: 87%;">Installing custom software is out of the scope of technical support. If anything with the installation fails to function as it should, DreamHost support is unable to assist. You must instead refer to Roundcube’s forums for assistance:
<ul>
<li><a class="external free" href="http://www.roundcubeforum.net/" rel="nofollow">http://www.roundcubeforum.net/</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p> </p>
<h2><span id="Installing_Roundcube" class="mw-headline">Installing Roundcube</span></h2>
<ol>
<li>Create a MySQL database in your panel, and then name it something like ‘roundcubedb’. The following page explains how to create a database:
<ul>
<li><a title="MySQL" href="http://wiki.dreamhost.com/MySQL#How_to_manage_DreamHost_MySQL_databases">Managing a database</a></li>
</ul>
</li>
<li>Visit the following download page and copy the link location of the most recent version:
<ul>
<li><a class="external free" href="https://roundcube.net/download/" rel="nofollow">https://roundcube.net/download/</a></li>
</ul>
</li>
<li>Log into your server via <a title="SSH" href="http://wiki.dreamhost.com/SSH">SSH</a>.</li>
<li>Run the following command to download the Roundcube file:
<dl>
<dd>
<pre>wget https://downloads.sourceforge.net/project/roundcubemail/roundcubemail/1.1.4/roundcubemail-1.1.4-complete.tar.gz</pre>
</dd>
</dl>
</li>
<li>Decompress the file:
<dl>
<dd>
<pre>tar xvfz roundcubemail-1.1.4-complete.tar.gz</pre>
</dd>
<dd><em>This creates a directory named /roundcubemail-1.1.4 with your Roundcube files.</em></dd>
</dl>
</li>
<li>Rename this:
<dl>
<dd>
<pre>mv roundcubemail-1.1.4 roundcube</pre>
</dd>
</dl>
</li>
<li>Point your browser to example.com/roundcube/installer.</li>
<li>Follow all steps to complete the installation.</li>
</ol>
<h2><span id="Troubleshooting" class="mw-headline">Troubleshooting</span></h2>
<h3><span id="Checking_PHP_extensions" class="mw-headline">Checking PHP extensions</span></h3>
<p>While on the first step of the installer ("Check environment"), you may see one or more extensions marked as "<span style="color: #f60; font-weight: bold;">NOT AVAILABLE</span>" with some explanation after it in parentheses. The explanation may start with "Could be loaded. Please add in php.ini", such as:</p>
<pre>Intl:  &lt;span style="color: #f60; font-weight: bold;"&gt;NOT AVAILABLE&lt;/span&gt; (Could be loaded. Please add in php.ini; See http://www.php.net/manual/en/book.intl.php)
</pre>
<p>In this case, you can load the extension by editing your <a title="PHP.ini" href="http://wiki.dreamhost.com/PHP.ini">phprc</a> file.</p>
<ol>
<li>Log into your server via <a title="SSH" href="http://wiki.dreamhost.com/SSH">SSH</a>.</li>
<li>Open up your ~/.php/&lt;phpversion&gt;/phprc file.</li>
<li>Add the appropriate lines for the missing PHP extensions.</li>
</ol>
<p>Here's a list of possible PHP extensions and the phprc/php.ini line to load each of them:</p>
<ul>
<li>FileInfo: extension = fileinfo.so</li>
<li>Libiconv: extension = iconv.so</li>
<li>Multibyte: extension = mbstring.so</li>
<li>OpenSSL: extension = openssl.so</li>
<li>Mcrypt: extension = mcrypt.so</li>
<li>Intl: extension = intl.so</li>
<li>Exif: extension = exif.so</li>
<li>LDAP: extension = ldap.so</li>
</ul>
<p><br /> Please note, that some extensions may not be able to be enabled this way. For example, the LDAP extension cannot be enabled on shared hosting.</p>
<h3><span id="Authentication_failed" class="mw-headline">Authentication failed</span></h3>
<p>When you first log into Roundcube and attempt to send an email, you may see the following error:</p>
<pre>SMTP Error (535): Authentication failed
</pre>
<p>To fix, open up your /config/config.inc.php file and edit the following two lines:</p>
<pre>$config['smtp_user'] = '%u';
$config['smtp_pass'] = '%p';
</pre>
<p>Save the file.</p>
<p>You’ll now be able to send and receive email.</p>
<h3><span id="Test_SMTP_config" class="mw-headline">Test SMTP config</span></h3>
<p>If you configured Roundcube to use SSL to connect to the mail server and you're using PHP 5.6+, you may get this error message during the testing step of the installation:</p>
<pre>Trying to send email...
SMTP send:  &lt;span style="color: red; font-weight: bold;"&gt;NOT OK&lt;/span&gt;(Connection failed: Failed to connect socket: fsockopen(): unable to connect to ssl://mail.example.com:465 (Unknown error))
</pre>
<p>This is probably because you set the mail server to "mail.example.com", but it presents a security certificate for "*.mail.dreamhost.com". To fix this, you need to manually add some configuration settings to let PHP know to expect a certificate with a different name on it.</p>
<ol>
<li>Log into your server via <a title="SSH" href="http://wiki.dreamhost.com/SSH">SSH</a>.</li>
<li>Open up your /roundcube/config/config.inc.php file.</li>
<li>Add:</li>
</ol>
<pre>$config['smtp_conn_options'] = array(
	'ssl' =&gt; array(
		'verify_peer' =&gt; true,
		'verify_peer_name' =&gt; true,
		'peer_name' =&gt; '*.mail.dreamhost.com',
	),
);</pre>
<h3><span id="Test_IMAP_config" class="mw-headline">Test IMAP config</span></h3>
<p>If you configured Roundcube to use SSL to connect to the mail server and you're using PHP 5.6+, you may get this error message during the testing step of the installation:</p>
<pre>Connecting to ssl://mail.example.com...
IMAP connect:  &lt;span style="color: red; font-weight: bold;"&gt;NOT OK&lt;/span&gt;(Login failed for emailaccount@example.com from x.x.x.x. Could not connect to ssl://mail.example.com:993: Unknown reason)
</pre>
<p>This is probably because you set the mail server to "mail.example.com", but it presents a security certificate for "*.mail.dreamhost.com". To fix this, you need to manually add some configuration settings to let PHP know to expect a certificate with a different name on it.</p>
<ol>
<li>Log into your server via <a title="SSH" href="http://wiki.dreamhost.com/SSH">SSH</a>.</li>
<li>Open up your /roundcube/config/config.inc.php file.</li>
<li>Add:</li>
</ol>
<pre>$config['imap_conn_options'] = array(
	'ssl' =&gt; array(
		'verify_peer' =&gt; true,
		'verify_peer_name' =&gt; true,
		'peer_name' =&gt; '*.mail.dreamhost.com',
	),
);
</pre>
<h2><span id="Limitations" class="mw-headline">Limitations</span></h2>
<p>If you wish to use HTTPS for your Webmail access, you’ll need to enable <a title="Secure Hosting" href="http://wiki.dreamhost.com/Secure_Hosting">Secure Hosting</a> on your domain. Visit the following article for further information:</p>
<ul>
<li><a title="Secure Hosting" href="http://wiki.dreamhost.com/Secure_Hosting">Secure Hosting</a></li>
</ul>
<p>If you have created <a title="Anti-spam" href="http://wiki.dreamhost.com/Anti-spam">Anti-spam</a> filters, the JUNK folder won't be available when using Roundcube. If you’d still like to use your Anti-spam filters, you’d need to enable the option ‘quarantine to IMAP’ and set a specific folder to be used as your Junk folder in Roundcube.</p>
<p>Visit the following article for more information:</p>
<ul>
<li><a title="Anti-spam" href="http://wiki.dreamhost.com/Anti-spam#Changing_the_quarantine_location">Anti-spam: Changing the quarantine location</a></li>
</ul>
<h2><span id="See_also" class="mw-headline">See also</span></h2>
<ul>
<li><a class="external text" href="http://www.roundcubeforum.net/" rel="nofollow">RoundCube Community Forum</a></li>
<li><a class="external text" href="http://trac.roundcube.net/wiki/Howto_Install" rel="nofollow">RoundCube How to Install</a></li>
<li><a class="external text" href="http://php.net/manual/en/migration56.openssl.php" rel="nofollow">PHP 5.6 OpenSSL changes</a></li>
<li><a class="external text" href="http://php.net/manual/en/context.ssl.php" rel="nofollow">PHP SSL context options</a></li>
</ul>
