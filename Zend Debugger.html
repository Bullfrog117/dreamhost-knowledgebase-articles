<div style="background-color: #fee; margin: 1em; padding: 10px; border: 1px solid #aaa; text-align: center;"><strong>WARNING: POSSIBLE OUTDATED INFORMATION!</strong><br/><span style="font-size: 90%;">DreamHost does not directly support any of the features described on this page and is not responsible for keeping this content updated or accurate. Use at your own risk! <br/>There may be additional information on the <a class="new" href="http://wiki.dreamhost.com/index.php?title=Talk:Zend_Debugger&amp;action=edit&amp;redlink=1" title="Talk:Zend Debugger (page does not exist)"> talk page</a>.</span></div>
<div class="toc" id="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
</div>
<div class="toc" id="toc">
<ul>
<li class="toclevel-1 tocsection-1"><a href="http://wiki.dreamhost.com/Zend_Debugger#Configuring_the_Zend_Debugger_at_Dreamhost"><span class="tocnumber">1</span> <span class="toctext">Configuring the Zend Debugger at Dreamhost</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="http://wiki.dreamhost.com/Zend_Debugger#Install_PHP"><span class="tocnumber">1.1</span> <span class="toctext">Install PHP</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="http://wiki.dreamhost.com/Zend_Debugger#Check_PHP_Install"><span class="tocnumber">1.1.1</span> <span class="toctext">Check PHP Install</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-4"><a href="http://wiki.dreamhost.com/Zend_Debugger#Download_and_Install_the_Zend_Debugger"><span class="tocnumber">1.2</span> <span class="toctext">Download and Install the Zend Debugger</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="http://wiki.dreamhost.com/Zend_Debugger#Modify_Your_php.ini_File"><span class="tocnumber">1.3</span> <span class="toctext">Modify Your php.ini File</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="http://wiki.dreamhost.com/Zend_Debugger#Check_Debugger_Installation"><span class="tocnumber">1.3.1</span> <span class="toctext">Check Debugger Installation</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="http://wiki.dreamhost.com/Zend_Debugger#Copy_dummy.php_to_Web_Root"><span class="tocnumber">1.4</span> <span class="toctext">Copy dummy.php to Web Root</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="http://wiki.dreamhost.com/Zend_Debugger#Configure_the_Zend_Debugger_Client"><span class="tocnumber">1.5</span> <span class="toctext">Configure the Zend Debugger Client</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="http://wiki.dreamhost.com/Zend_Debugger#Setup_Port_Forwarding_on_your_Firewall"><span class="tocnumber">1.6</span> <span class="toctext">Setup Port Forwarding on your Firewall</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="http://wiki.dreamhost.com/Zend_Debugger#Troubleshooting"><span class="tocnumber">1.7</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="http://wiki.dreamhost.com/Zend_Debugger#Testing_Forms_Through_the_Server_Side_Debugger"><span class="tocnumber">1.7.1</span> <span class="toctext">Testing Forms Through the Server Side Debugger</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2><span id="Configuring_the_Zend_Debugger_at_Dreamhost">Configuring the Zend Debugger at Dreamhost</span></h2>
<p>The Zend Debugger is a PHP extension that allows you to do debugging of PHP scripts via the web server. Zend IDE (5.5) or Zend Studio for Eclipse (6.1). This tutorial has been written for setting up the Zend IDE (5.5). So far it's one of the best PHP IDEs I've used, and it's available for almost all platforms. The server extensions are necessary if you want to debug forms, linked pages or anything using $_SERVER or $_GLOBAL vars. It also allows you to debug these on remote servers with the Zend extensions installed.</p>
<div>
<table style="text-align: center; background-color: #ffefef; border: 1px solid #FF9F9F; padding: 0px; margin: 0 auto 2em auto; width: 80%;">
<tbody>
<tr>
<td><strong>The instructions provided in this article or section are considered advanced.</strong><br/>
<p>You are expected to be knowledgeable in the UNIX shell.<br/> <span style="font-size: 1.1em; text-decoration: blink;"><em>Support for these instructions is <strong>not available</strong> from DreamHost tech support.</em></span><br/> <span style="font-size: 1.1em;"><strong><em>Server changes performed by DreamHost may break your modifications. You, as the user, are responsible for troubleshooting and resolving issues with your customizations.</em></strong> </span><strong><em><br/></em></strong></p>
</td>
</tr>
</tbody>
</table>
</div>
<div style="background-color: #fee; margin: 1em; padding: 10px; border: 1px solid #aaa; text-align: center;"><strong>WARNING</strong><br/><span style="font-size: 90%;">If you configure your site to use your own custom PHP installation,<br/>your version of PHP will no longer automatically upgrade when DreamHost upgrades their version of PHP.<br/>It is your responsibility to reinstall new versions of PHP! <br/> Leaving old versions of PHP installed can possibly be a security hazard!</span></div>
<h3><span id="Install_PHP">Install PHP</span></h3>
<div style="padding: .2em .3em; margin: .2em .2em; border: solid 2px #CC1100; font-size: 92%; width: 65%;">
<table>
<tbody>
<tr>
<td valign="center"><a class="image" href="http://wiki.dreamhost.com/File:Important_icon.png"><img alt="Important icon.png" height="40" src="http://wiki.dreamhost.com/images/1/13/Important_icon.png" width="48"/></a></td>
<td valign="top"><span style="color: #cc1100;"><big><strong>Important:</strong></big></span></td>
<td valign="top">Please be aware that DreamHost recommends you use PHP version 5.6. You can find more info about PHP here:
<ul>
<li><a href="http://wiki.dreamhost.com/Updating_PHP:_Overview_and_FAQs" title="Updating PHP: Overview and FAQs">Updating PHP: Overview and FAQs</a></li>
<li><a href="http://wiki.dreamhost.com/PHP.ini" title="PHP.ini">PHP.ini</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<p>Use the <a class="mw-redirect" href="http://wiki.dreamhost.com/PHP_5_install_script" title="PHP 5 install script">PHP 5 install script</a> to install PHP into your home directory. I used the first listed and it worked fine. Just to be a rebel I changed the PHP version to the most current at the time (5.2.9). Make this change to the script at your own risk (You've already dismissed the warnings above so this shouldn't get your panties in a bunch). Make sure to modify your .htaccess file to point to php.cgi you just installed. Also, read to the last line. It's quite possibly the most important. :)</p>
<h4><span id="Check_PHP_Install">Check PHP Install</span></h4>
<dl>
<dd>To see if your PHP was successful, create a phpinfo page and run it from your web root directory. Upload a file with the following in it:</dd>
</dl>
<dl>
<dd>
<pre>&lt;?php phpinfo(); ?&gt;</pre>
</dd>
</dl>
<dl>
<dd>and point your web browser to it. If you get a 500 error, MAKE SURE TO READ THE LAST LINE OF THE INSTALL SCRIPT PAGE.</dd>
</dl>
<dl>
<dd>If that still doesn't work, go to your newly created cgi-bin directory /home/{USERNAME}/{DOMAIN.TLD}/cgi-bin and run</dd>
</dl>
<dl>
<dd>
<pre>./php.cgi -i</pre>
</dd>
</dl>
<dl>
<dd>You should get an HTML formatted output of phpinfo(). If you don't, there were problems installing PHP and you might have to start over.</dd>
</dl>
<h3><span id="Download_and_Install_the_Zend_Debugger">Download and Install the Zend Debugger</span></h3>
<p>Download the <a href="http://downloads.zend.com/pdt/server-debugger/">Zend Debugger</a> (ZendDebugger-5.2.15-linux-glibc23-i386.tar.gz) from Zend. Unpack this file anywhere. This contains the debugger extension and the dummy.php file you will need in a few steps. Copy the appropriate ZendDebugger.so file (the one that matches the version of PHP you have installed. If you used the script above, which installs 5.2.6, you'll copy the file out of the 5_2_x_comp directory) somewhere outside your web tree. I put it in /home/{USERNAME}/ZendDebugger.</p>
<h3><span id="Modify_Your_php.ini_File">Modify Your php.ini File</span></h3>
<p>Add the following lines to your php.ini file. It should be at /home/{USERNAME}/php5/etc/php5/{DOMAIN.TLD}/php.ini. Make sure to replace the full path to your .so file. Add the IP addresses you want to be able to connect to the debugger from. Make sure this is your publicly available IP.</p>
<dl>
<dd>zend_extension=&lt;full_path_to_ZendDebugger.so&gt;</dd>
<dd>zend_debugger.allow_hosts=&lt;host_ip_addresses&gt; (Comma Separated)</dd>
<dd>zend_debugger.expose_remotely=always</dd>
</dl>
<h4><span id="Check_Debugger_Installation">Check Debugger Installation</span></h4>
<dl>
<dd>When you have pointed the php.ini file to the ZendDebugger.so file when you run the phpinfo.php file again from a web browser, it should show you a new extension near the bottom called Zend Debugger. You should see something like this:</dd>
</dl>
<dl>
<dd><a class="image" href="http://wiki.dreamhost.com/File:ZendDebuggerPHPinfo.png"><img alt="ZendDebuggerPHPinfo.png" height="446" src="http://wiki.dreamhost.com/images/4/4b/ZendDebuggerPHPinfo.png" width="715"/></a></dd>
</dl>
<h3><span id="Copy_dummy.php_to_Web_Root">Copy dummy.php to Web Root</span></h3>
<p>The Zend Debugger uses a dummy.php file as a bootstrap. Whenever you start a debugging session, it looks for http://{WWW.DOMAIN.TLD}/dummy.php?start_debug=1&amp;debug_host=... which configures and enables the debugger. If the web server cannot find Dummy File, the debugger won't work.</p>
<p>Copy the dummy.php file from the tarball and place it in your web root (/home/{USERNAME}/{DOMAIN.TLD}/dummy.php).</p>
<h3><span id="Configure_the_Zend_Debugger_Client">Configure the Zend Debugger Client</span></h3>
<p>Go to your Zend Debugger and go to Tools &gt; Preferences &gt; Debug</p>
<p><a class="image" href="http://wiki.dreamhost.com/File:ZendDebug.jpg"><img alt="ZendDebug.jpg" height="612" src="http://wiki.dreamhost.com/images/4/49/ZendDebug.jpg" width="747"/></a></p>
<ul>
<li>Set Debug Mode to Server</li>
<li>Set Debug Server URL to your domain name. Remember the forward slash at the end</li>
<li>Set Client IP to 'Customized' and LEAVE IT BLANK (This just about caused me to rip my hair out)</li>
<li>Set the Dummy File to 'dummy.php' (Unless you renamed it to something else)</li>
<li>Set Client Debug Port to 10000.</li>
<li>You can accept the defaults for all the other settings on the Debug tab.</li>
</ul>
<h3><span id="Setup_Port_Forwarding_on_your_Firewall">Setup Port Forwarding on your Firewall</span></h3>
<p>If necessary, make sure to forward port 10000 to your local client machine if you are behind a firewall. This is so the debugger can get the messages back to your client.</p>
<h3><span id="Troubleshooting">Troubleshooting</span></h3>
<p>During the connection process it may be helpful to tail the error log to see any connection errors during the config.</p>
<p>Go to your shell account and go to /home/{USERNAME}/logs/{DOMAIN.TLD}/http/</p>
<p>and run</p>
<pre>tail -f error.log</pre>
<p>This will keep the error log file open so you can see new entries as they appear. It was most helpful to me when troubleshooting this. Type ^C to exit the tail process.</p>
<h4><span id="Testing_Forms_Through_the_Server_Side_Debugger">Testing Forms Through the Server Side Debugger</span></h4>
<p>If you want to test forms through the debugger (which is probably why you ran through half this garbage in the first place) you need to make sure that your forms submit to the full URL of the page you are submitting to. Instead of using $_SERVER['PHP_SELF'] you need to write 'http://{WWW.DOMAIN.TLD}/scriptname.php'.</p>
<p>For more information, and a primer on using the debugger on a remote server, check out <a href="http://www.ibm.com/developerworks/opensource/library/os-php-zenddebug/">this great article at IBM</a>.</p>
